<template>
    <div class="content">
        <div class="fixtitle">07月08日</div>
        <article class="timeheader">
            <h3 class="timetitle">07月08日</h3>
            <section>
                <span class="point-time point-green"></span>
                <time datetime="2013-03">
                    <span>10:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-green">指纹开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-green"></span>
                <time datetime="2012-11">
                    <span>09:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-green">密码开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-red"></span>
                <time datetime="2012-09">
                    <span>08:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-red">远程开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-blue"></span>
                <time datetime="2012-08">
                    <span>07:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-blue">蓝牙开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-red"></span>
                <time datetime="2012-03">
                    <span>06:27</span>
                </time>
                <aside>
                    <p class="things">警告</p>
                    <p class="brief"><span class="text-red">暴力开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-blue"></span>
                <time datetime="2012-02">
                    <span>05:27</span>
                </time>
                <aside>
                    <p class="things">警告</p>
                    <p class="brief"><span class="text-blue">刷卡开门</span></p>
                </aside>
            </section>
        </article>
        <article class="timeheader">
            <h3 class="timetitle">07月07日</h3>
            <section>
                <span class="point-time point-green"></span>
                <time datetime="2013-03">
                    <span>10:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-green">指纹开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-green"></span>
                <time datetime="2012-11">
                    <span>09:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-green">密码开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-red"></span>
                <time datetime="2012-09">
                    <span>08:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-red">远程开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-blue"></span>
                <time datetime="2012-08">
                    <span>07:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-blue">蓝牙开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-red"></span>
                <time datetime="2012-03">
                    <span>06:27</span>
                </time>
                <aside>
                    <p class="things">警告</p>
                    <p class="brief"><span class="text-red">暴力开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-blue"></span>
                <time datetime="2012-02">
                    <span>05:27</span>
                </time>
                <aside>
                    <p class="things">警告</p>
                    <p class="brief"><span class="text-blue">刷卡开门</span></p>
                </aside>
            </section>
        </article>
        <article class="timeheader">
            <h3 class="timetitle">07月06日</h3>
            <section>
                <span class="point-time point-green"></span>
                <time datetime="2013-03">
                    <span>10:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-green">指纹开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-green"></span>
                <time datetime="2012-11">
                    <span>09:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-green">密码开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-red"></span>
                <time datetime="2012-09">
                    <span>08:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-red">远程开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-blue"></span>
                <time datetime="2012-08">
                    <span>07:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-blue">蓝牙开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-red"></span>
                <time datetime="2012-03">
                    <span>06:27</span>
                </time>
                <aside>
                    <p class="things">警告</p>
                    <p class="brief"><span class="text-red">暴力开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-blue"></span>
                <time datetime="2012-02">
                    <span>05:27</span>
                </time>
                <aside>
                    <p class="things">警告</p>
                    <p class="brief"><span class="text-blue">刷卡开门</span></p>
                </aside>
            </section>
        </article>
        <article class="timeheader">
            <h3 class="timetitle">07月05日</h3>
            <section>
                <span class="point-time point-green"></span>
                <time datetime="2013-03">
                    <span>10:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-green">指纹开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-green"></span>
                <time datetime="2012-11">
                    <span>09:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-green">密码开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-red"></span>
                <time datetime="2012-09">
                    <span>08:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-red">远程开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-blue"></span>
                <time datetime="2012-08">
                    <span>07:27</span>
                </time>
                <aside>
                    <p class="things">消息</p>
                    <p class="brief"><span class="text-blue">蓝牙开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-red"></span>
                <time datetime="2012-03">
                    <span>06:27</span>
                </time>
                <aside>
                    <p class="things">警告</p>
                    <p class="brief"><span class="text-red">暴力开门</span></p>
                </aside>
            </section>
            <section>
                <span class="point-time point-blue"></span>
                <time datetime="2012-02">
                    <span>05:27</span>
                </time>
                <aside>
                    <p class="things">警告</p>
                    <p class="brief"><span class="text-blue">刷卡开门</span></p>
                </aside>
            </section>
        </article>
    </div>
</template>
<script>
    export default {
        data(){
            return {
                scrollTop: ''
            }
        },
        methods: {
            menu() {
                this.scrollTop = document.querySelector(".content").scrollTop;

                var headerObj = document.getElementsByClassName("timeheader");
                var length = headerObj.length;
                for(var i=length-1; i>=0; i--){
                    if(this.scrollTop > headerObj[i].offsetTop){
                        var fixtitle = document.getElementsByClassName("timetitle")[i].innerHTML;
                        document.querySelector(".fixtitle").style.display = 'block';
                        document.querySelector(".fixtitle").innerHTML = fixtitle;
                        break;
                    }
                    else if(this.scrollTop < headerObj[0].offsetTop){
                        document.querySelector(".fixtitle").style.display = 'none';
                    }
                }
            }
        },
        mounted() {
            var contentObj = document.querySelector(".content");
            contentObj.addEventListener('scroll', this.menu);
        }
    }
</script>
<style>
    .child-view{
        overflow: auto;
        background: #fff;
        padding-top: 0.2rem;
        -webkit-overflow-scrolling : touch;
    }
    article,section,time,aside{display:block;}
    .point-time {
        content: "";
        position: absolute;
        width: 13px;
        height: 13px;
        top: 17px;
        left: 1rem;
        background: #1c87bf;
        margin-left: -4px;
        border-radius: 50%;
        box-shadow: 0 0 0 5px #fff;
    }
    .text-red {
        color: #f6393f;
    }
    .text-blue {
        color: #1c87bf;
    }
    .text-green {
        color: #95c91e;
    }
    .text-yellow {
        color: #ffb902;
    }
    .text-purple {
        color: #d32d93;
    }
    .point-red {
        background-color: #f6393f;
    }
    .point-blue {
        background-color: #1c87bf;
    }
    .point-green {
        background-color: #95c91e;
    }
    .point-yellow {
        background-color: #ffb902;
    }
    .point-purple {
        background-color: #d32d93;
    }
    .content article {
        position: relative;
    }
    .content article > h3 {
        width: 0.75rem;
        height: 20px;
        line-height: 20px;
        text-align: right;
        font-size: 16px;
        color: #1d1d1d;
        padding: 10px 0 20px;
    }
    .content article section {
        padding: 0 0 17px;
        position: relative;
    }
    .content article section:before {
        content: "";
        width: 5px;
        top: 17px;
        bottom: -17px;
        left: 1rem;
        background: #e6e6e6;
        position: absolute;
    }
    .content article section:last-child:before {
        display: none;
    }
    .content article section time {
        width: 0.75rem;
        display: block;
        position: absolute;
        top: 14px;
    }
    .content article section time > span {
        display: block;
        text-align: right;
    }
    .content article section aside {
        color: #3a3a38;
        margin-left: 1.3rem;
        padding-bottom: 10px;
    }
    .content article section .brief {
        color: #9f9f9f;
    }
    .fixtitle{
        position: fixed;
        left:1rem;
        top: 0rem;
        margin-left: -0.16rem;
        width: 0.36rem;
        height: 0.36rem;
        line-height: 0.14rem;
        padding: 0.04rem;
        box-sizing: border-box;
        text-align: center;
        background: red;
        color: #fff;
        -webkit-border-radius:50%;
        -moz-border-radius:50%;
        border-radius:50%;
        display: none;
        z-index: 9999;
        font-size: 0.12rem;
    }
</style>